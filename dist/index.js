!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("ux-scroll",[],n):"object"==typeof exports?exports["ux-scroll"]=n():t["ux-scroll"]=n()}(this,(function(){return(()=>{"use strict";var t={d:(n,o)=>{for(var i in o)t.o(o,i)&&!t.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:o[i]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};function o(t,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.r(n),t.d(n,{UxScrollCallback:()=>X,UxScrollTransition:()=>D});var i,e,r,s,c,u,a,l,f,h,p,d,m,y,b,g,w,v,O,P,S,E,j=function(t,n,o,i,e){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!e)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!e:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?e.call(t,o):e?e.value=o:n.set(t,o),o},x=function(t,n,o,i){if("a"===o&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!i:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?i:"a"===o?i.call(t):i?i.value:n.get(t)};!function(t){t.Y="y",t.X="x"}(S||(S={})),function(t){t.Y="height",t.X="width"}(E||(E={}));var T=function(){function t(n){var o=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),i.add(this),e.set(this,void 0),r.set(this,S.Y),s.set(this,void 0),this.scrollPosition=-1,this.scrollDirection=1,w.set(this,x(this,i,"m",O).call(this,(function(){o.elements&&(o.scrollPosition>window.scrollY?o.scrollDirection&&x(o,i,"m",g).call(o,0):o.scrollPosition<window.scrollY&&!o.scrollDirection&&x(o,i,"m",g).call(o,1),x(o,i,"m",b).call(o),o.scrollPosition=window.scrollY)}))),v.set(this,x(this,i,"m",O).call(this,(function(){o.elements&&(o.windowSize=x(o,i,"m",m).call(o),o.scrollSize=x(o,i,"m",y).call(o),o.options=x(o,i,"m",f).call(o,{options:x(o,e,"f").options,commonOptions:x(o,e,"f").commonOptions}))}))),j(this,e,n,"f"),this.elements=x(this,i,"m",p).call(this),j(this,s,x(this,i,"m",d).call(this),"f"),x(this,v,"f").call(this),this.onResize=x(this,i,"m",P).call(this,x(this,v,"f"),x(this,i,"a",l)),this.onScroll=x(this,i,"m",P).call(this,x(this,w,"f"),x(this,i,"a",l))}var n,c;return n=t,(c=[{key:"scrollBottomPosition",get:function(){return this.scrollPosition+this.windowSize}},{key:"scrollTopPosition",get:function(){return this.scrollPosition}},{key:"onStarting",value:function(t){}},{key:"onDoing",value:function(t){}},{key:"onEnding",value:function(t){}}])&&o(n.prototype,c),Object.defineProperty(n,"prototype",{writable:!1}),t}();function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function C(t,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Q(t,n){return Q=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},Q(t,n)}function k(t,n){if(n&&("object"===M(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}e=new WeakMap,r=new WeakMap,s=new WeakMap,w=new WeakMap,v=new WeakMap,i=new WeakSet,c=function(){var t=this;return this.options.filter((function(n){var o=n.startTopPosition,i=n.startBottomPosition,e=n.index;return n.starting&&(t.scrollDirection?o<=t.scrollBottomPosition:i>=t.scrollTopPosition)&&x(t,s,"f")[e].starting}))},u=function(){var t=this;return this.options.filter((function(n){var o=n.startTopPosition,i=n.endBottomPosition,e=n.index;return n.doing&&(t.scrollDirection?o<=t.scrollTopPosition:i>=t.scrollBottomPosition)&&x(t,s,"f")[e].doing}))},a=function(){var t=this;return this.options.filter((function(n){var o=n.ending,i=n.index,e=n.endTopPosition,r=n.endBottomPosition;return o&&(t.scrollDirection?e<=t.scrollBottomPosition:r>=t.scrollTopPosition)&&x(t,s,"f")[i].ending}))},l=function(){return x(this,e,"f").throttleTimer||0},f=function(t){var n=this,o=t.options,e=t.commonOptions;return!o&&(o={}),!e&&(e={}),this.elements.map((function(t,s){var c=x(n,r,"f")===S.Y?t.offsetTop:t.offsetLeft,u=x(n,r,"f")===S.Y?t.offsetHeight:t.offsetWidth,a=c+u,l=Object.assign(e,o[s]),f=x(n,i,"m",h).call(n,l.startTopMargin),p=x(n,i,"m",h).call(n,l.endTopMargin),d=x(n,i,"m",h).call(n,l.startBottomMargin),m=x(n,i,"m",h).call(n,l.endBottomMargin);return Object.assign(Object.assign({index:s,size:u},l),{startTopPosition:c+f,endTopPosition:a+p,startBottomPosition:c+d,endBottomPosition:a+m})}))},h=function(t){return t?t.includes("px")?Number(t.replace("px","")):t.includes("%")?Number(t.replace("%",""))*this.windowSize/100:Number(t)*this.windowSize:0},p=function(){return Array.prototype.slice.call(document.querySelectorAll(x(this,e,"f").selector))},d=function(){return this.elements.map((function(){return{starting:!0,doing:!0,ending:!0}}))},m=function(){return x(this,r,"f")===S.Y?window.innerHeight:window.innerWidth},y=function(){return x(this,r,"f")===S.Y?Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight):Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth)},b=function(){var t=this;x(this,i,"a",c).map((function(n){var o=n.index;t.onStarting(o)&&(x(t,s,"f")[o].starting=!1)})),x(this,i,"a",u).map((function(n){var o=n.index;t.onDoing(o)&&(x(t,s,"f")[o].doing=!1)})),x(this,i,"a",a).map((function(n){var o=n.index;t.onEnding(o)&&(x(t,s,"f")[o].ending=!1)}))},g=function(t){for(var n in this.scrollDirection=t,x(this,s,"f"))x(this,s,"f")[n].starting=!0,x(this,s,"f")[n].doing=!0,x(this,s,"f")[n].ending=!0},O=function(t){var n=!1;return function(){n||(n=!0,requestAnimationFrame((function(){t(),n=!1})))}},P=function(t,n){var o,i=this;return function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];o||(o=setTimeout((function(){t.call(i,r),o=!1}),n))}};var _,D=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Q(t,n)}(s,t);var n,o,i,e,r=(i=s,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=B(i);if(e){var o=B(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return k(this,t)});function s(t){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),r.call(this,Object.assign(Object.assign({},t),{commonOptions:Object.assign({starting:"ux__transition--animated",startTopMargin:".2",startBottomMargin:"-1"},t.commonOptions)}))}return n=s,(o=[{key:"onStarting",value:function(t){return this.scrollDirection?this.elements[t].classList.add(this.options[t].starting):this.elements[t].classList.remove(this.options[t].starting),!0}}])&&C(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),s}(T);!function(t){t.linear="linear",t.quadratic="quadratic",t.cubic="cubic",t.elastic="elastic",t.inQuad="inQuad",t.outQuad="outQuad",t.inOutQuad="inOutQuad",t.inCubic="inCubic",t.outCubic="outCubic",t.inOutCubic="inOutCubic",t.inQuart="inQuart",t.outQuart="outQuart",t.inOutQuart="inOutQuart",t.inQuint="inQuint",t.outQuint="outQuint",t.inOutQuint="inOutQuint",t.inSine="inSine",t.outSine="outSine",t.inOutSine="inOutSine",t.inExpo="inExpo",t.outExpo="outExpo",t.inOutExpo="inOutExpo",t.inCirc="inCirc",t.outCirc="outCirc",t.inOutCirc="inOutCirc"}(_||(_={}));const W={linear:function(t){return t},quadratic:function(t){return t*(-t*t*t+4*t*t-6*t+4)},cubic:function(t){return t*(4*t*t-9*t+6)},elastic:function(t){return t*(33*t*t*t*t-106*t*t*t+126*t*t-67*t+15)},inQuad:function(t){return t*t},outQuad:function(t){return t*(2-t)},inOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},inQuart:function(t){return t*t*t*t},outQuart:function(t){return 1- --t*t*t*t},inOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return 1+--t*t*t*t*t},inOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},inSine:function(t){return 1-Math.cos(t*(Math.PI/2))},outSine:function(t){return Math.sin(t*(Math.PI/2))},inOutSine:function(t){return-(Math.cos(Math.PI*t)-1)/2},inExpo:function(t){return Math.pow(2,10*(t-1))},outExpo:function(t){return 1-Math.pow(2,-10*t)},inOutExpo:function(t){return(t/=.5)<1?Math.pow(2,10*(t-1))/2:(t--,(2-Math.pow(2,-10*t))/2)},inCirc:function(t){return 1-Math.sqrt(1-t*t)},outCirc:function(t){return Math.sqrt(1-(t-=1)*t)},inOutCirc:function(t){return(t/=.5)<1?-(Math.sqrt(1-t*t)-1)/2:(t-=2,(Math.sqrt(1-t*t)+1)/2)}};function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function z(t,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Y(t,n){return Y=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},Y(t,n)}function q(t,n){if(n&&("object"===R(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return H(t)}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}var A,I,L,N,U=function(t,n,o,i){if("a"===o&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!i:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?i:"a"===o?i.call(t):i?i.value:n.get(t)},X=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Y(t,n)}(s,t);var n,o,i,e,r=(i=s,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=F(i);if(e){var o=F(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return q(this,t)});function s(t){var n;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),n=r.call(this,Object.assign(Object.assign({},t),{commonOptions:Object.assign({starting:"starting",doing:"doing",ending:"ending",startingFrame:999,doingFrame:999,endingFrame:999,startingEasing:_.inCubic,doingEasing:_.inCubic,endingEasing:_.inCubic},t.commonOptions)})),A.add(H(n)),I.set(H(n),void 0),function(t,n,o,i,e){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!e)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!e:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===i?e.call(t,o):e?e.value=o:n.set(t,o)}(H(n),I,t.callbacks,"f"),n}return n=s,(o=[{key:"onStarting",value:function(t){var n=this.options[t].startingFrame,o=this.options[t].starting,i=this.options[t].startingEasing,e=this.scrollDirection?this.options[t].startTopPosition:this.options[t].startBottomPosition,r=(this.scrollBottomPosition-e)/this.windowSize;return U(this,A,"m",N).call(this,{easing:i,status:o,index:t,level:r,frame:n})}},{key:"onDoing",value:function(t){var n=this.options[t].doingFrame,o=this.options[t].doing,i=this.options[t].doingEasing,e=1-((this.scrollDirection?this.options[t].endTopPosition:this.options[t].endBottomPosition)-this.scrollBottomPosition)/(this.options[t].size-this.windowSize);return U(this,A,"m",N).call(this,{easing:i,status:o,index:t,level:e,frame:n})}},{key:"onEnding",value:function(t){var n=this.options[t].endingFrame,o=this.options[t].ending,i=this.options[t].endingEasing,e=1-((this.scrollDirection?this.options[t].endTopPosition:this.options[t].endBottomPosition)-this.scrollTopPosition)/this.windowSize;return U(this,A,"m",N).call(this,{easing:i,status:o,index:t,level:e,frame:n})}}])&&z(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),s}(T);return I=new WeakMap,A=new WeakSet,L=function(t,n,o){t>1&&(t=1),t<0&&(t=0);var i=W[o];return Math.ceil(i(t)*n)},N=function(t){var n=t.index,o=t.status,i=t.level,e=t.frame,r=t.easing,s=U(this,I,"f")[n],c=U(this,A,"m",L).call(this,i,e,r),u=this.elements[n];if(s&&s({scrollDirection:this.scrollDirection,status:o,index:n,step:c,element:u}),i<0||i>1)return!0},n})()}));